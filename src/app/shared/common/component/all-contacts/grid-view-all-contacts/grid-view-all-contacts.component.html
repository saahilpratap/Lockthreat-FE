
          <form class="m-form" autocomplete="off">

                    <div class="row align-items-center mb-4">
                        <div class="col-xl-12">
                            <div class="form-group m-form__group align-items-center">
                                <div class="input-group">
                                    <input [(ngModel)]="filterText" name="filterText" autoFocus
                                           class="form-control m-input" [placeholder]="l('SearchWithThreeDot')"
                                           type="text">
                                    <span class="input-group-btn">
                                        <button (click)="getallContact()" class="btn btn-primary" type="submit">
                                            <i class="flaticon-search-1"
                                               [attr.aria-label]="l('Search')"></i>
                                        </button>
                                    </span>                                   
                                        <button (click)="exportToExcel()" class="btn btn-outline-success" style="margin-left:5px !important"><i class="fa fa-file-excel"></i> {{l("ExportToExcel")}}</button>                                    
                                </div>
                            </div>
                        </div>                       
                    </div>

                    <div class="row" [hidden]="!advancedFiltersAreShown">
                            <div class="col-md-12">
                                <div class="m-separator m-separator--border-dashed"></div>
                            </div>


                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="OfficeAddressFilter">{{l("Contact ID ")}}</label>
                                    <input type="text" class="form-control" id="OfficeAddressFilter" name="officeAddressFilter" [(ngModel)]="contactId">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="MailingAddressFilter">{{l("Name ")}}</label>
                                    <input type="text" class="form-control" id="MailingAddressFilter" name="mailingAddressFilter" [(ngModel)]="name">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="EmailId1Filter">{{l("Job Title ")}}</label>
                                    <input type="text" class="form-control" id="EmailId1Filter" name="emailId1Filter" [(ngModel)]="jobTitle">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="EmailId2Filter">{{l("Direct Phone")}}</label>
                                    <input type="text" class="form-control" id="EmailId2Filter" name="emailId2Filter" [(ngModel)]="directPhone">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="EmailId3Filter">{{l("Email ")}}</label>
                                    <input type="text" class="form-control" id="EmailId3Filter" name="emailId3Filter" [(ngModel)]="email">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="TelephoneNumber1Filter">{{l("Phone ")}}</label>
                                    <input type="text" class="form-control" id="TelephoneNumber1Filter" name="telephoneNumber1Filter" [(ngModel)]="phone">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="TelephoneNumber2Filter">{{l("Contact Owner	")}}</label>
                                    <input type="text" class="form-control" id="TelephoneNumber2Filter" name="telephoneNumber2Filter" [(ngModel)]="contactOwner">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="TelephoneNumber3Filter">{{l("Vendors")}}</label>
                                    <input type="text" class="form-control" id="TelephoneNumber3Filter" name="telephoneNumber3Filter" [(ngModel)]="vendors">
                                </div>
                            </div>

                        </div>

                    <div class="row mb-2">
                            <div class="col-sm-12">
                                <span class="clickable-item text-muted" *ngIf="!advancedFiltersAreShown" (click)="advancedFiltersAreShown=!advancedFiltersAreShown"><i class="fa fa-angle-down"></i> {{l("ShowAdvancedFilters")}}</span>
                                <span class="clickable-item text-muted" *ngIf="advancedFiltersAreShown" (click)="advancedFiltersAreShown=!advancedFiltersAreShown"><i class="fa fa-angle-up"></i> {{l("HideAdvancedFilters")}}</span>
                            </div>
                        </div>
                 </form>

          <div class="row align-items-center no-margin">

                    <div class="primeng-datatable-container"
                         [busyIf]="primengTableHelper.isLoading">

                        <p-table #dataTable
                                 (onLazyLoad)="getallContact($event)"
                                 [value]="primengTableHelper.records"
                                 [lazy]="true"
                                 [scrollable]="true"
                                 [selection]="selectedRowData" (selectionChange)="onSelectionChange($event)"
                                 ScrollWidth="100%">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th style="width: 20px" *ngIf="!showPopupBtn">
                                        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                                    </th>
                                    <th style="width: 100px">
                                        {{'Contact ID' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 150px">
                                        {{'Name' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 150px">
                                        {{'Job Title' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 100px">
                                        {{'Direct' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 200px">
                                        {{'Email' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 150px">
                                        {{'Phone' |localize}}
                                        <p-sortIcon></p-sortIcon>
                                    </th>
                                    <th style="width: 150px">
                                        {{'Contact Owner' |localize}}
                                    </th>
                                    <th style="width: 250px">
                                        {{'Vendors' |localize}}
                                    </th>
                                    <th style="width: 100px" class="kt-align-center">
                                        {{'Action' |localize}}
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-record="$implicit">
                                <tr [pSelectableRow]="rowData">
                                    <td style="width: 20px" *ngIf="!showPopupBtn">
                                        <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                                    </td>
                                    <td style="width: 100px">
                                        {{record.contactId}}
                                    </td>
                                    <td style="width: 150px">
                                        {{record.firstName+" "+record.lastName}}
                                    </td>
                                    <td style="width: 150px">
                                        {{record.jobTitle}}
                                    </td>
                                    <td style="width: 100px">
                                        {{record.phoneNumber}}
                                    </td>
                                    <td style="width: 200px">
                                        {{record.email}}
                                    </td>
                                    <td style="width: 150px">
                                        {{record.mobileNo}}
                                    </td>
                                    <td style="width: 150px">
                                        <span> {{record.lockThreatOrganization}}</span>
                                    </td>
                                    <td style="width: 250px">
                                        <span>{{record.vendor}}</span>
                                    </td>
                                    <td style="width: 100px" class="kt-align-center">
                                        <i *ngIf="!showPopupBtn" class="fas fa-pencil-alt kt-padding-5 mouse-hover kt-font-info" (click)="contactEdit(record.id)"></i>
                                        <i *ngIf="showPopupBtn" class="fas fa-pencil-alt kt-padding-5 mouse-hover kt-font-info"></i>
                                        <i class="far fa-trash-alt kt-padding-5 mouse-hover kt-font-google" (click)="contactRemove(record.id)"></i>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>

                        <div class="primeng-paging-container">
                            <p-paginator [rows]="primengTableHelper.defaultRecordsCountPerPage" #paginator
                                         (onPageChange)="getallContact($event)"
                                         [totalRecords]="primengTableHelper.totalRecordsCount"
                                         [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">

                            </p-paginator>
                            <span class="total-records-count">
                                {{'TotalRecordsCount' | localize:primengTableHelper.totalRecordsCount}}
                            </span>
                        </div>

                    </div>

                </div>

         <allContactsModals #allContactsModals></allContactsModals>
