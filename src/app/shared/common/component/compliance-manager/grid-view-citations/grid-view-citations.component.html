<div class="row align-items-center no-margin">
    <div
      class="primeng-datatable-container"
      [busyIf]="primengTableHelper.isLoading"
    >
      <!-- <p-table
          #dataTable
          (onLazyLoad)="getAllOrganizationPolicies($event)"
          [value]="primengTableHelper.records"
          [lazy]="true"
          [scrollable]="true"
          [selection]="selectedRowData"
          (selectionChange)="onSelectionChange($event)"
          ScrollWidth="100%"
        >
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 20px;" *ngIf="!showPopupBtn">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
              </th>
              <th style="width: 100px;" pSortableColumn="policyId">
                {{'Policy ID' |localize}}
                <p-sortIcon field="policyId"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="policyType">
                {{'Policy Type' |localize}}
                <p-sortIcon field="policyType"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="policyName">
                {{'Policy Name' |localize}}
                <p-sortIcon field="policyName"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="businessOwner">
                {{'Business Owner' |localize}}
                <p-sortIcon field="businessOwner"></p-sortIcon>
              </th>
              <th style="width: 200px;" pSortableColumn="policyContent">
                {{'Policy Content' |localize}}
                <p-sortIcon field="policyContent"></p-sortIcon>
              </th>
              <th style="width: 200px;" pSortableColumn="finalReviewer">
                {{'Final Reviewer (Signature)' |localize}}
                <p-sortIcon field="finalReviewer"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="approvedBy">
                {{'Approved By (Signature)' |localize}}
                <p-sortIcon field="approvedBy"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="policyOwner">
                {{'Policy Owner' |localize}}
                <p-sortIcon field="policyOwner"></p-sortIcon>
              </th>
              <th style="width: 150px;" pSortableColumn="policyManager">
                {{'Policy Manager' |localize}}
                <p-sortIcon field="policyManager"></p-sortIcon>
              </th>
              <th style="width: 100px;" class="kt-align-center">
                {{'Action' |localize}}
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-rowData let-record="$implicit">
            <tr [pSelectableRow]="rowData">
              <td style="width: 20px;" *ngIf="!showPopupBtn">
                <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
              </td>
              <td style="width: 100px;" (click)="policiesEdit(record.id)">
                {{record.PolicyID}}
              </td>
              <td style="width: 150px;">
                <div
                  class="table-text-wrap"
                  [pTooltip]="record.PolicyType"
                  tooltipPosition="bottom"
                >
                  {{record.PolicyType}}
                </div>
              </td>
              <td style="width: 150px;">
                  <div
                  class="table-text-wrap"
                  [pTooltip]="record.PolicyName"
                  tooltipPosition="bottom"
                >{{record.PolicyName}}</div>
              </td>
              <td style="width: 150px;">
                <div
                  class="table-text-wrap"
                  [pTooltip]="record.BusinessOwner"
                  tooltipPosition="bottom"
                >
                  {{record.BusinessOwner}}
                </div>
              </td>
              <td style="width: 200px;">
                <div
                  class="table-text-wrap"
                  [pTooltip]="record.PolicyContent"
                  tooltipPosition="bottom"
                >{{record.PolicyContent}}</div>
              </td>
              <td style="width: 200px;">
                <span>{{record.FinalReviewer}}</span>
              </td>
              <td style="width: 150px;">
                <span>{{record.ApprovedBy}}</span>
              </td>
              <td style="width: 150px;">
                <span>{{record.PolicyOwner}}</span>
              </td>
              <td style="width: 150px;">
                <span>{{record.PolicyManager}}</span>
              </td>
              <td style="width: 100px;" class="kt-align-center">
                <i
                  class="fas fa-pencil-alt kt-padding-5 mouse-hover kt-font-info"
                  (click)="policiesEdit(record.id)"
                ></i>
                <i
                  class="far fa-trash-alt kt-padding-5 mouse-hover kt-font-google"
                  (click)="policiesDelete(record.id)"
                ></i>
              </td>
            </tr>
          </ng-template>
        </p-table> -->
      <p-table
        [columns]="selectedColumns"
        [value]="primengTableHelper.records"
        [reorderableColumns]="true"
        [resizableColumns]="true"
        [lazy]="true"
        [(selection)]="selectedRowData"
        (selectionChange)="onSelectionChange($event)"
        dataKey="ID"
      >
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="width: 50px;">
              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th pResizableColumn>ID</th>
            <th *ngFor="let col of columns" pResizableColumn pReorderableColumn>
              {{col.header}}
            </th>
            <th pResizableColumn style="width: 100px;">Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-record>
          <tr>
            <td style="width: 50px;">
              <p-tableCheckbox [value]="record"></p-tableCheckbox>
            </td>
            <td>{{record.ID}}</td>
            <td *ngFor="let col of selectedColumns">
              <div
                class="table-text-wrap"
                [pTooltip]="record[col.field]"
                tooltipPosition="bottom"
              >
                {{record[col.field]}}
              </div>
            </td>
            <td style="width: 100px;" class="kt-align-center">
              <i
                class="fas fa-pencil-alt kt-padding-5 mouse-hover kt-font-info"
                (click)="citationsReportEdit(record.id)"
              ></i>
              <i
                class="far fa-trash-alt kt-padding-5 mouse-hover kt-font-google"
                (click)="citationsDelete(record.id)"
              ></i>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <!-- <p-table
        [columns]="selectedColumns"
        [value]="primengTableHelper.records"
        [reorderableColumns]="true"
        [resizableColumns]="true"
        [lazy]="true"
        [scrollable]="true"
        [(selection)]="selectedRowData"
        dataKey="PolicyID"
      >
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="width: 50px;">
              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th pResizableColumn>Policy ID</th>
            <th *ngFor="let col of columns" pResizableColumn pReorderableColumn>
              {{col.header}}
            </th>
            <th pResizableColumn style="width: 100px;">Action</th>
          </tr>
        </ng-template>
        <ng-template
          pTemplate="body"
          let-record
          let-columns="columns"
          let-index="rowIndex"
        >
          <tr [pReorderableRow]="index" class="p-selectable-row">
            <td style="width: 50px;">
              <p-tableCheckbox [value]="record"></p-tableCheckbox>
            </td>
            <td>{{record.PolicyID}}</td>
            <td *ngFor="let col of columns">
              <div
                class="table-text-wrap"
                [pTooltip]="record[col.field]"
                tooltipPosition="bottom"
              >
                {{record[col.field]}}
              </div>
            </td>
            <td style="width: 100px;" class="kt-align-center">
              <i
                class="fas fa-pencil-alt kt-padding-5 mouse-hover kt-font-info"
                (click)="policiesEdit(record.id)"
              ></i>
              <i
                class="far fa-trash-alt kt-padding-5 mouse-hover kt-font-google"
                (click)="policiesDelete(record.id)"
              ></i>
            </td>
          </tr>
        </ng-template>
      </p-table> -->
      <div
        class="primeng-no-data"
        *ngIf="primengTableHelper.totalRecordsCount == 0"
      >
        {{'NoData' | localize}}
      </div>
      <div class="primeng-paging-container">
        <p-paginator
          [rows]="primengTableHelper.defaultRecordsCountPerPage"
          #paginator
          (onPageChange)="getAllCitiationsReport($event)"
          [totalRecords]="primengTableHelper.totalRecordsCount"
          [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
        >
        </p-paginator>
        <span class="total-records-count">
          {{'TotalRecordsCount' | localize:primengTableHelper.totalRecordsCount}}
        </span>
      </div>
    </div>
  </div>
